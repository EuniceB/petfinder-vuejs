(function(e){function t(t){for(var r,i,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/petfinder-vuejs/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var p=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0222":function(e,t,n){"use strict";n("eb56")},"02de":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},1218:function(e,t,n){e.exports=n.p+"img/no-photo-available.73b4f986.jpeg"},1771:function(e,t,n){var r={"./barnyard.jpeg":"cfd4","./bird.jpeg":"7653","./cat.jpeg":"5069","./dog.jpeg":"5c0a","./filter.svg":"5ee4","./furry.jpeg":"6309","./horse.jpeg":"c5a0","./loading.gif":"cf1c","./no-photo-available.jpeg":"1218","./rabbit.jpeg":"94e7","./scales.jpeg":"3f69"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="1771"},1980:function(e,t,n){"use strict";n("3102")},"293f":function(e,t,n){"use strict";n("a011")},"2cb1":function(e,t,n){"use strict";n("93fe")},3102:function(e,t,n){},"3f69":function(e,t,n){e.exports=n.p+"img/scales.fc7643ae.jpeg"},"42c5":function(e,t,n){"use strict";n("7f85")},5069:function(e,t,n){e.exports=n.p+"img/cat.3d1f8c55.jpeg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("2f62"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full",attrs:{id:"app"}},[n("Header"),n("div",{staticClass:"container full"},[n("router-view")],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("router-link",{attrs:{tag:"h2",to:"/"}},[e._v("Online shelter")]),r("img",{staticClass:"filter-button",attrs:{src:n("5ee4")},on:{click:function(t){return e.toggleSidebar()}}})],1)},c=[],u={name:"Header",computed:{isSidebarOpen:function(){return this.$store.state.ui.sidebarOpen}},methods:{toggleSidebar:function(){this.$store.commit("setSidebarOpen",!this.isSidebarOpen)}}},p=u,l=(n("0222"),n("2877")),d=Object(l["a"])(p,o,c,!1,null,"3f96b8b5",null),g=d.exports,f={name:"App",components:{Header:g},computed:{typesAreLoaded:function(){return this.$store.state.pets.types&&this.$store.state.pets.types.length>0}}},h=f,m=(n("034f"),Object(l["a"])(h,s,i,!1,null,null,null)),b=m.exports,v=n("ecee"),_=n("c074"),y=n("ad3d"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"pet-list-page"},[n("Sidebar",{class:{open:e.isSidebarOpen}}),n("Pets")],1)])},P=[],x=(n("96cf"),n("1da1")),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pet-list"},[e.loading?r("div",{staticClass:"loader"},[r("img",{attrs:{src:n("cf1c")}})]):e._e(),e.loading?e._e():r("div",[e.pagination&&e.pets&&e.pets.length>0?r("Pagination"):e._e(),e.pets&&e.pets.length>0?r("div",{staticClass:"pets"},e._l(e.pets,(function(e){return r("router-link",{key:e.id,staticClass:"pet",attrs:{tag:"div",to:"/pet/"+e.id}},[r("PetItem",{attrs:{pet:e}})],1)})),1):e._e(),e.pagination&&e.pets&&e.pets.length>0?r("Pagination"):e._e(),e.pets&&0!==e.pets.length?e._e():r("p",[e._v("No pets found")])],1)])},C=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination"},[1!==e.currentPage?n("div",{staticClass:"page-link",on:{click:function(t){return e.getPage(1)}}},[e._v(" « ")]):e._e(),1!==e.currentPage&&e.totalPages>=e.currentPage-1?n("div",{staticClass:"page-link",on:{click:function(t){return e.getPage(e.currentPage-1)}}},[e._v(" < ")]):e._e(),e._l(e.pages,(function(t){return n("div",{key:t,staticClass:"page-link",class:{current:e.currentPage===t},on:{click:function(n){return e.getPage(t)}}},[e._v(" "+e._s(t)+" ")])})),e.currentPage!==e.totalPages?n("div",{staticClass:"page-link",on:{click:function(t){return e.getPage(e.currentPage+1)}}},[e._v(" > ")]):e._e(),e.currentPage!==e.totalPages?n("div",{staticClass:"page-link",on:{click:function(t){return e.getPage(e.totalPages)}}},[e._v(" » ")]):e._e()],2)},O=[],$=(n("99af"),n("b0c0"),{name:"Pagination",computed:{type:function(){return this.$store.state.pets.type},totalCount:function(){return this.$store.state.pets.pagination?this.$store.state.pets.pagination.total_count:null},currentPage:function(){return this.$store.state.pets.pagination?this.$store.state.pets.pagination.current_page:null},totalPages:function(){return this.$store.state.pets.pagination?this.$store.state.pets.pagination.total_pages:null},pages:function(){var e=[];return this.totalPages>=this.currentPage-2&&this.currentPage-2>0&&e.push(this.currentPage-2),this.totalPages>=this.currentPage-1&&this.currentPage-1>0&&e.push(this.currentPage-1),this.totalPages>=this.currentPage&&this.totalCount>0&&e.push(this.currentPage),this.totalPages>=this.currentPage+1&&e.push(this.currentPage+1),this.totalPages>=this.currentPage+2&&e.push(this.currentPage+2),this.totalPages>=this.currentPage+3&&this.currentPage<3&&e.push(this.currentPage+3),this.totalPages>=this.currentPage+4&&this.currentPage<2&&e.push(this.currentPage+4),e}},methods:{getPage:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.currentPage!==e){n.next=2;break}return n.abrupt("return");case 2:t.$router.push({path:"/pets/".concat(t.type.name,"/").concat(e)});case 3:case"end":return n.stop()}}),n)})))()}}}),S=$,F=(n("293f"),Object(l["a"])(S,j,O,!1,null,"3611c46e",null)),R=F.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{staticClass:"pet-item card"},[r("header",[r("h1",{staticClass:"pet-name",domProps:{innerHTML:e._s(e.pet.name)}}),"Male"===e.pet.gender?r("font-awesome-icon",{style:{color:"#2547e1",fontSize:"16pt"},attrs:{icon:"mars"}}):e._e(),"Female"===e.pet.gender?r("font-awesome-icon",{style:{color:"#e1258e",fontSize:"16pt"},attrs:{icon:"venus"}}):e._e()],1),r("main",[r("p",{staticClass:"date"},[e._v(e._s(new Date(e.pet.published_at).toLocaleString()))]),r("div",{staticClass:"img-container"},[e.pet.photos&&e.pet.photos.length>0?r("img",{attrs:{src:e.pet.photos[0].medium}}):e._e(),e.pet.photos&&0!==e.pet.photos.length?e._e():r("img",{staticClass:"no-photo",attrs:{src:n("1218")}})]),e.pet.description?r("p",{staticClass:"pet-desc",domProps:{innerHTML:e._s(e.pet.description)}}):e._e(),e.pet.description?e._e():r("p",{staticClass:"pet-desc"},[e._v(" No description was provided. ")]),r("router-link",{key:e.pet.id,staticClass:"btn btn-primary",attrs:{to:"/pet/"+e.pet.id}},[e._v("See more")])],1)])},L=[],E={name:"PetItem",props:["pet"],methods:{}},T=E,V=(n("ea29"),Object(l["a"])(T,z,L,!1,null,"2779a61c",null)),A=V.exports,B={name:"Pets",components:{Pagination:R,PetItem:A},computed:{loading:function(){return this.$store.state.pets.loading},pets:function(){return this.$store.state.pets.pets},pagination:function(){return this.$store.state.pets.pagination}}},M=B,I=(n("1980"),Object(l["a"])(M,w,C,!1,null,"5a0f67ab",null)),N=I.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:e.clearFilters}},[e._v(" Clear filters ")]),n("div",{staticClass:"sidebar-section"},[n("FindAPet")],1),n("div",{staticClass:"filters"},[n("div",{staticClass:"sidebar-section"},[n("strong",[e._v("Size:")]),n("ul",[n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("size","Small")},on:{change:function(t){return e.toggleFilterValue("size","Small")}}}),e._v(" Small ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("size","Medium")},on:{change:function(t){return e.toggleFilterValue("size","Medium")}}}),e._v(" Medium ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("size","Large")},on:{change:function(t){return e.toggleFilterValue("size","Large")}}}),e._v(" Large ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("size","Extra-large")},on:{change:function(t){return e.toggleFilterValue("size","Extra-large")}}}),e._v(" Extra-large ")])])]),n("div",{staticClass:"sidebar-section"},[n("strong",[e._v("Age:")]),n("ul",[n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("age","Baby")},on:{change:function(t){return e.toggleFilterValue("age","Baby")}}}),e._v(" Baby ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("age","Young")},on:{change:function(t){return e.toggleFilterValue("age","Young")}}}),e._v(" Young ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("age","Adult")},on:{change:function(t){return e.toggleFilterValue("age","Adult")}}}),e._v(" Adult ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("age","Senior")},on:{change:function(t){return e.toggleFilterValue("age","Senior")}}}),e._v(" Senior ")])])]),e.coats&&e.coats.length>0?n("div",{staticClass:"sidebar-section"},[n("strong",[e._v("Coats:")]),n("ul",e._l(e.coats,(function(t){return n("li",{key:t},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("coat",t)},on:{change:function(n){return e.toggleFilterValue("coat",t)}}}),e._v(" "+e._s(t)+" ")])})),0)]):e._e(),e.genders&&e.genders.length>0?n("div",{staticClass:"sidebar-section"},[n("strong",[e._v("Genders:")]),n("ul",e._l(e.genders,(function(t){return n("li",{key:t},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("gender",t)},on:{change:function(n){return e.toggleFilterValue("gender",t)}}}),e._v(" "+e._s(t)+" ")])})),0)]):e._e(),n("div",{staticClass:"sidebar-section"},[n("strong",[e._v("Attributes:")]),n("ul",[n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("attributes","good_with_children")},on:{change:function(t){return e.toggleFilterValue("attributes","good_with_children")}}}),e._v(" Good with children ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("attributes","good_with_dogs")},on:{change:function(t){return e.toggleFilterValue("attributes","good_with_dogs")}}}),e._v(" Good with dogs ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("attributes","good_with_cats")},on:{change:function(t){return e.toggleFilterValue("attributes","good_with_cats")}}}),e._v(" Good with cats ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("attributes","house_trained")},on:{change:function(t){return e.toggleFilterValue("attributes","house_trained")}}}),e._v(" House trained ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("attributes","declawed")},on:{change:function(t){return e.toggleFilterValue("attributes","declawed")}}}),e._v(" Special needs ")]),n("li",[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("attributes","special_needs")},on:{change:function(t){return e.toggleFilterValue("attributes","special_needs")}}}),e._v(" Declawed ")])])]),e.colors&&e.colors.length>0?n("div",{staticClass:"sidebar-section colors"},[n("strong",[e._v("Colors:")]),n("ul",e._l(e.colors,(function(t){return n("li",{key:t},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("color",t)},on:{change:function(n){return e.toggleFilterValue("color",t)}}}),e._v(" "+e._s(t)+" ")])})),0)]):e._e(),e.breeds&&e.breeds.length>0?n("div",{staticClass:"sidebar-section breeds"},[n("strong",[e._v("Breeds:")]),n("ul",e._l(e.breeds,(function(t){return n("li",{key:t.name},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked("breed",t.name)},on:{change:function(n){return e.toggleFilterValue("breed",t.name)}}}),e._v(" "+e._s(t.name)+" ")])})),0)]):e._e()])])},Y=[],q=(n("caad"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"find-a-pet"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.searchPets(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Search by name..."},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("button",{staticClass:"btn",attrs:{type:"submit"}},[e._v("Search")])])])}),G=[],D={name:"FindAPet",data:function(){return{name:""}},methods:{searchPets:function(){this.$store.dispatch("searchPets",{name:this.name})}}},J=D,Q=(n("66c2"),Object(l["a"])(J,q,G,!1,null,"314e6948",null)),U=Q.exports,Z={name:"Sidebar",components:{FindAPet:U},computed:{filters:function(){return this.$store.state.pets.filters},breeds:function(){return this.$store.state.pets.breeds},coats:function(){return this.$store.state.pets.coats},genders:function(){return this.$store.state.pets.genders},colors:function(){return this.$store.state.pets.colors}},methods:{toggleFilterValue:function(e,t){this.$store.dispatch("toggleFilterValue",{field:e,value:t})},clearFilters:function(){this.$store.commit("clearFilters"),this.$store.dispatch("getPetsPage",{page:1})},isChecked:function(e,t){return this.filters[e]&&this.filters[e].includes(t)}}},W=Z,X=(n("2cb1"),Object(l["a"])(W,H,Y,!1,null,"357973ba",null)),K=X.exports,ee={name:"PetListPage",components:{Pets:N,Sidebar:K},beforeRouteUpdate:function(e,t,n){this.$store.dispatch("getPetsPage",{page:e.params.page,type:e.params.type}),n()},computed:{typesAreLoaded:function(){return this.$store.state.pets.types&&this.$store.state.pets.types.length>0},isSidebarOpen:function(){return this.$store.state.ui.sidebarOpen}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("initType",{type:e.$route.params.type});case 2:e.$store.dispatch("getPetsPage",{page:e.$route.params.page});case 3:case"end":return t.stop()}}),t)})))()}},te=ee,ne=(n("42c5"),Object(l["a"])(te,k,P,!1,null,"69ecaeed",null)),re=ne.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pet-page"},[e.loading?r("div",{staticClass:"loader"},[r("img",{attrs:{src:n("cf1c")}})]):e._e(),e.pet?r("div",{staticClass:"card"},[r("header",[r("h1",{domProps:{innerHTML:e._s(e.pet.name)}}),"Male"===e.pet.gender?r("font-awesome-icon",{style:{color:"#2547e1",fontSize:"32pt",marginLeft:".4em"},attrs:{icon:"mars"}}):e._e(),"Female"===e.pet.gender?r("font-awesome-icon",{style:{color:"#e1258e",fontSize:"32pt",marginLeft:".4em"},attrs:{icon:"venus"}}):e._e()],1),r("p",{staticClass:"date"},[e._v(e._s(new Date(e.pet.published_at).toLocaleString()))]),e.pet.photos&&e.pet.photos.length>0?r("img",{attrs:{src:e.pet.photos[0].full}}):e._e(),e.pet.photos&&0!==e.pet.photos.length?e._e():r("img",{staticClass:"no-photo",attrs:{src:n("1218")}}),r("p",{staticClass:"description",domProps:{innerHTML:e._s(e.pet.description)}}),r("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:e.pet.url}},[e._v("See PetFinder page")]),r("div",{staticClass:"attributes"},[r("p",[e._v("Age: "+e._s(e.pet.age))]),r("p",[e._v("Size: "+e._s(e.pet.size))]),r("p",[e._v("House trained: "+e._s(e.pet.attributes.house_trained?"Yes":"No"))]),r("p",[e._v(" Shots are current: "+e._s(e.pet.attributes.shots_current?"Yes":"No")+" ")]),r("p",[e._v(" Spayed/Neutered: "+e._s(e.pet.attributes.spayed_neutered?"Yes":"No")+" ")]),r("p",[e._v("Special Needs: "+e._s(e.pet.attributes.special_needs?"Yes":"No"))]),r("p",[e._v(" Breed: "+e._s(e.pet.breeds.mixed?"Mix between "+e.pet.breeds.primary+" and "+(e.pet.breeds.secondary||"?"):e.pet.breeds.primary)+" ")]),e.pet.coat?r("p",[e._v("Coat: "+e._s(e.pet.coat))]):e._e(),e.pet.colors.primary?r("p",[e._v(" Colors: "+e._s(e.pet.colors.primary)+" "),e.pet.colors.secondary?r("span",[e._v("("+e._s(e.pet.colors.secondary)+")")]):e._e()]):e._e()]),r("div",{staticClass:"contact"},[r("h4",[e._v("Contact:")]),r("p",[e._v("Country: "+e._s(e.pet.contact.address.country))]),r("p",[e._v(" Email: "),r("a",{attrs:{href:"mailto:"+e.pet.contact.email}},[e._v(" "+e._s(e.pet.contact.email))])]),e.pet.contact.phone?r("p",[e._v("Phone number: "+e._s(e.pet.contact.phone))]):e._e()])]):e._e()])},se=[],ie={name:"PetPage",computed:{loading:function(){return this.$store.state.pets.loading},pet:function(){return this.$store.state.pets.pet}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("getPetInformation",{id:e.$route.params.id});case 1:case"end":return t.stop()}}),t)})))()}},oe=ie,ce=(n("b9f7"),Object(l["a"])(oe,ae,se,!1,null,"d555baa2",null)),ue=ce.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",e._l(e.types,(function(t){return r("router-link",{key:t.name,staticClass:"card",style:{backgroundImage:"url("+n("1771")("./"+e.photos[t.name])+")",backgroundSize:"cover",backgroundRepeat:"none"},attrs:{to:"/pets/"+t.name+"/1",tag:"li"}},[r("p",[e._v(e._s(t.name))])])})),1)},le=[],de={name:"HomePage",data(){return{photos:{Dog:"dog.jpeg",Cat:"cat.jpeg",Rabbit:"rabbit.jpeg","Small & Furry":"furry.jpeg",Horse:"horse.jpeg",Bird:"bird.jpeg","Scales, Fins & Other":"scales.jpeg",Barnyard:"barnyard.jpeg"}}},computed:{types(){return this.$store.state.pets.types}},mounted(){this.$store.dispatch("getTypes"),setTimeout(()=>{},1e4)}},ge=de,fe=(n("fcbd"),Object(l["a"])(ge,pe,le,!1,null,"7b12353b",null)),he=fe.exports,me=n("8c4f"),be=[{path:"/",component:he},{path:"/pets/:type/:page",component:re},{path:"/pets/:type",redirect:"/pets/:type/1"},{path:"/pet/:id",component:ue}],ve=new me["a"]({routes:be,mode:"history"}),_e=ve,ye=n("2106"),ke=n.n(ye),Pe=n("bc3a"),xe=n.n(Pe),we=(n("d3b7"),n("8a79"),function(){xe.a.interceptors.response.use((function(e){return e}),function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("Response error:",JSON.stringify(t)),!t.response||401==t.response){e.next=3;break}return e.abrupt("return",Promise.reject(t));case 3:return console.log("Getting new access token"),e.next=6,Ce();case 6:return n=e.sent,localStorage.setItem("accessToken",n),t.config.headers.Authorization="Bearer ".concat(n),e.abrupt("return",xe.a.request(t.config));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xe.a.interceptors.request.use(function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.url.endsWith("/oauth2/token")){e.next=2;break}return e.abrupt("return",t);case 2:if(t.headers.Authorization&&0!==t.headers.Authorization.length&&"Bearer undefined"!==t.headers.Authorization){e.next=10;break}if(n=localStorage.getItem("accessToken"),n){e.next=9;break}return e.next=7,Ce();case 7:n=e.sent,localStorage.setItem("accessToken",n);case 9:t.headers.Authorization="Bearer ".concat(n);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log("Request error:",e.response),Promise.reject(e)}))});function Ce(){return je.apply(this,arguments)}function je(){return je=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.a.post("/oauth2/token",{grant_type:"client_credentials",client_id:"hQzp2Azuz9tjRmoYZiwZYwE9Lg51QkRFNR7XIvrCzDtRKGEV4z",client_secret:"WJuPk2RZ64w3OdR4I48lcXFAGIvdTzMRi4wP6EYH"});case 2:return t=e.sent,n=t.data.access_token,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}var Oe={sidebarOpen:!1},$e={state:Oe,mutations:{setSidebarOpen:function(e,t){e.sidebarOpen=t}}},Se=(n("4de4"),n("7db0"),n("a15b"),n("baa5"),n("d81d"),n("4fad"),n("9911"),n("ade3")),Fe=n("5530"),Re={pet:null,loading:!1,pagination:null,pets:[],types:[],breeds:[],coats:[],colors:[],genders:[],filters:{},type:null,query:null},ze={state:Re,mutations:{setLoading:function(e,t){e.loading=t.loading},setQuery:function(e,t){e.query=t.query},setPet:function(e,t){e.pet=t.pet},setTypes:function(e,t){e.types=t.types},setPagination:function(e,t){e.pagination=t.pagination},setPets:function(e,t){e.pets=t.pets},setType:function(e,t){e.type=t.type},setBreeds:function(e,t){e.breeds=t.breeds},setColors:function(e,t){e.colors=t.colors},setCoats:function(e,t){e.coats=t.coats},setGenders:function(e,t){e.genders=t.genders},clearFilters:function(e){e.filters={}},toggleFilterValue:function(e,t){var n=encodeURI(t.value),r=e.filters[t.field];if(null!=r)if(r.includes(n))if(1===r.length){var a=Object(Fe["a"])({},e.filters);delete a[t.field],e.filters=a}else e.filters[t.field]=r.filter((function(e){return e!=n}));else r.push(n);else e.filters=Object(Fe["a"])(Object(Fe["a"])({},e.filters),{},Object(Se["a"])({},t.field,[n]))}},actions:{toggleFilterValue:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,a=e.dispatch,s=t.field,i=t.value,r("toggleFilterValue",{field:s,value:i}),a("getPetsPage",{});case 4:case"end":return n.stop()}}),n)})))()},getPetInformation:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.commit,n.prev=1,a("setLoading",{loading:!0}),n.next=5,xe.a.get("/animals/".concat(t.id),{headers:{Authorization:"Bearer ".concat(r.accessToken)}});case 5:s=n.sent,i=s.data.animal,a("setPet",{pet:i}),a("setLoading",{loading:!1}),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](1),console.log("Error",n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},getTypes:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,r=e.commit,t.prev=1,r("setLoading",{loading:!0}),t.next=5,xe.a.get("/types",{headers:{Authorization:"Bearer ".concat(n.accessToken)}});case 5:a=t.sent,s=a.data.types,r("setTypes",{types:s}),r("setLoading",{loading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log("Error",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},getBreeds:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.state,r=e.commit,t.prev=1,r("setLoading",{loading:!0}),n.type){t.next=5;break}throw Error("No type loaded!");case 5:return t.next=7,xe.a.get("/types/".concat(n.type.link,"/breeds"));case 7:a=t.sent,s=a.data.breeds,r("setBreeds",{breeds:s}),r("setLoading",{loading:!1}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),console.log("Error",t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))()},initType:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.state,s=e.commit,i=e.dispatch,(null===(r=a.type)||void 0===r?void 0:r.name)!==t.type){n.next=3;break}return n.abrupt("return");case 3:if(n.prev=3,s("setLoading",{loading:!0}),0!==a.types.length){n.next=8;break}return n.next=8,i("getTypes");case 8:if(t.type){n.next=10;break}throw Error("Type not specified");case 10:null!=t.type&&(o=a.types.find((function(e){return e.name===t.type})),c=o._links.self.href,u=c.substring(c.lastIndexOf("/")+1),s("setType",{type:{name:t.type,link:u}}),s("setCoats",{coats:o.coats}),s("setGenders",{genders:o.genders}),s("setColors",{colors:o.colors}),s("setPets",{pets:[]}),s("setPet",{pet:null}),s("clearFilters"),i("getBreeds")),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](3),console.log("Error",n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[3,13]])})))()},getPetsPage:function(e){var t=arguments;return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,o,c,u,p,l,d,g,f,h,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.state,a=e.commit,s=e.dispatch,i=t.length>1&&void 0!==t[1]?t[1]:{},n.prev=2,o=i.page||(r.pagination?r.pagination.current_page:1),c=r.query?"&name=".concat(r.query):"",u=Object.entries(r.filters).map((function(e){return"attributes"===e[0]?e[1].map((function(e){return"".concat(e,"=true")})).join("&"):"".concat(e[0],"=").concat(e[1])})).join("&"),a("setLoading",{loading:!0}),0!==r.types.length){n.next=10;break}return n.next=10,s("getTypes");case 10:return null!=i.type?(l=r.types.find((function(e){return e.name===i.type})),d=l._links.self.href,p=d.substring(d.lastIndexOf("/")+1)):p=r.type.link,n.next=13,xe.a.get("/animals?type=".concat(p).concat(c,"&page=").concat(o).concat(u.length>0?"&"+u:""));case 13:g=n.sent,f=g.data,h=f.animals,m=f.pagination,a("setPets",{pets:h}),a("setPagination",{pagination:m}),a("setLoading",{loading:!1}),n.next=25;break;case 22:n.prev=22,n.t0=n["catch"](2),console.log("Error",n.t0.message);case 25:case"end":return n.stop()}}),n,null,[[2,22]])})))()},searchPets:function(e,t){return Object(x["a"])(regeneratorRuntime.mark((function n(){var r,a,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.state,a=e.commit,n.prev=1,a("setLoading",{loading:!0}),n.next=5,xe.a.get("/animals?type=".concat(r.type.link,"&name=").concat(t.name),{headers:{Authorization:"Bearer ".concat(r.accessToken)}});case 5:s=n.sent,i=s.data,o=i.animals,c=i.pagination,a("setPets",{pets:o}),a("setPagination",{pagination:c}),a("setLoading",{loading:!1}),a("setQuery",{query:t.name}),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](1),console.log("Error",n.t0.message);case 18:case"end":return n.stop()}}),n,null,[[1,15]])})))()}}};r["a"].component("font-awesome-icon",y["a"]),v["c"].add(_["a"],_["b"]),r["a"].config.productionTip=!1,r["a"].use(ke.a,xe.a),r["a"].use(me["a"]),r["a"].use(a["a"]),new r["a"]({router:_e,store:new a["a"].Store({modules:{ui:$e,pets:ze}}),render:function(e){return e(b)},created:function(){we()}}).$mount("#app")},"572e":function(e,t,n){},"5c0a":function(e,t,n){e.exports=n.p+"img/dog.dec5e236.jpeg"},"5ee4":function(e,t,n){e.exports=n.p+"img/filter.bad02bde.svg"},6309:function(e,t,n){e.exports=n.p+"img/furry.8899daa0.jpeg"},"66c2":function(e,t,n){"use strict";n("02de")},7653:function(e,t,n){e.exports=n.p+"img/bird.28fd81d9.jpeg"},"7f85":function(e,t,n){},"85ec":function(e,t,n){},"93fe":function(e,t,n){},"94e7":function(e,t,n){e.exports=n.p+"img/rabbit.39506f46.jpeg"},a011:function(e,t,n){},b9f7:function(e,t,n){"use strict";n("ce7f")},c5a0:function(e,t,n){e.exports=n.p+"img/horse.fd3cc53a.jpeg"},ce7f:function(e,t,n){},cf1c:function(e,t,n){e.exports=n.p+"img/loading.a21552ad.gif"},cfd4:function(e,t,n){e.exports=n.p+"img/barnyard.d293b7bb.jpeg"},ea29:function(e,t,n){"use strict";n("f30c")},eb56:function(e,t,n){},f30c:function(e,t,n){},fcbd:function(e,t,n){"use strict";n("572e")}});
//# sourceMappingURL=app.2ce94c8d.js.map